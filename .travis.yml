sudo: required
dist: bionic
before_install:
    - sudo apt-get -qq update && sudo apt-get install -y --no-install-recommends texlive-fonts-recommended texlive-latex-extra texlive-fonts-extra dvipng texlive-latex-recommended latexmk texlive-lang-german texlive-font-utils texlive-science texlive-pictures rubber graphviz inkscape
    - sudo snap install --classic openscad-nightly
    - alias openscad='openscad-nightly'
      
git:
    submodules: false 

script:
    - mkdir output
    - cd Thesis
    - make
    - mv main_mrm.pdf output/Thesis.pdf
    - cd ../Presentation
    - mv main.pdf output/Presentation.pdf

deploy:
    provider: pages
    skip-cleanup: true
    github-token: $GITHUB_TOKEN  # Set in travis-ci.org dashboard, marked secure
    keep-history: true
    local-dir: output
    on:
        branch: master
